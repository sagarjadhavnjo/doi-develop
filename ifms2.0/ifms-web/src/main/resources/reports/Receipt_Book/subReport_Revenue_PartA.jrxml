<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.12.2.final using JasperReports Library version 6.12.2-75c5e90a222ab406e416cbf590a5397028a52de3  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Revenue_PartA" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="0" bottomMargin="0" uuid="ce2e82ed-3279-4361-ae88-4c7477498092">
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="DB2Adapter"/>
	<style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
			<topPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<leftPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<bottomPen lineWidth="0.5" lineColor="#FFFFFF"/>
			<rightPen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<subDataset name="Dataset1" uuid="8b042531-6c10-43bc-96ca-62dc21ee0b70">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
		<queryString language="SQL">
			<![CDATA[]]>
		</queryString>
		<field name="TYPE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="TYPE"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="RECEIPT_HEAD" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="RECEIPT_HEAD"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="SECTOR" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SECTOR"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="SUBSECTOR" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUBSECTOR"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="MAJOR_HEAD" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJOR_HEAD"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="MINOR_HEAD" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MINOR_HEAD"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="SUB_HEAD" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_HEAD"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="TOTAL" class="java.lang.Long">
			<property name="com.jaspersoft.studio.field.label" value="TOTAL"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="ACCOUNTS" class="java.lang.Long">
			<property name="com.jaspersoft.studio.field.label" value="ACCOUNTS"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="BUDGET" class="java.lang.Long">
			<property name="com.jaspersoft.studio.field.label" value="BUDGET"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="MODIFIEDBUDGET" class="java.lang.Long">
			<property name="com.jaspersoft.studio.field.label" value="MODIFIEDBUDGET"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<group name="Group1"/>
	</subDataset>
	<subDataset name="Dataset2" uuid="c6d58ae1-39ce-443b-9727-e94934952c32">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="DBDataAdapter "/>
		<queryString language="SQL">
			<![CDATA[select * from BUDGET.JASPERTRIAL]]>
		</queryString>
		<field name="TYPE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="TYPE"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="RECEIPT_HEAD" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="RECEIPT_HEAD"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="SECTOR" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SECTOR"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="SUBSECTOR" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUBSECTOR"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="MAJOR_HEAD" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJOR_HEAD"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="MINOR_HEAD" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MINOR_HEAD"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="SUB_HEAD" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_HEAD"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="TOTAL" class="java.lang.Long">
			<property name="com.jaspersoft.studio.field.label" value="TOTAL"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="ACCOUNTS" class="java.lang.Long">
			<property name="com.jaspersoft.studio.field.label" value="ACCOUNTS"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="BUDGET" class="java.lang.Long">
			<property name="com.jaspersoft.studio.field.label" value="BUDGET"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
		<field name="MODIFIEDBUDGET" class="java.lang.Long">
			<property name="com.jaspersoft.studio.field.label" value="MODIFIEDBUDGET"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="JASPERTRIAL"/>
		</field>
	</subDataset>
	<subDataset name="Dataset4" uuid="431b7ae9-594f-4fc6-b2c7-743c3e27446b">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="DB2 Adapter"/>
		<parameter name="fyId" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{fyId}]]></defaultValueExpression>
		</parameter>
		<parameter name="bpnId" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{bpnId}]]></defaultValueExpression>
		</parameter>
		<parameter name="majorHead" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{majorHead}]]></defaultValueExpression>
		</parameter>
		<queryString language="SQL">
			<![CDATA[SELECT  
                main_table.SUBMAJORHEAD_CODE AS "SUB_MAJOR_HEAD_CODE",
                main_table.SUBMAJORHEAD_NAME AS "SUB_MAJOR_HEAD_NAME_ENG",
                main_table.SUBMAJORH_NAME_GUJ AS "SUB_MAJOR_HEAD_NAME_GUJ",
                main_table.MINORHEAD_CODE AS "MINOR_HEAD_CODE",
                main_table.MINORHEAD_NAME AS "MINOR_HEAD_NAME_ENG",
                main_table.MINORHEAD_NAME_GUJ AS "MINOR_HEAD_NAME_GUJ",
                main_table.SUBHEAD_CODE AS "SUB_HEAD_CODE",
                main_table.SUBHEAD_NAME AS "SUB_HEAD_NAME_ENG",
                main_table.SUBHEAD_NAME_GUJ AS "SUB_HEAD_NAME_GUJ",
                main_table.ACC_BUD_EST AS "ACCOUNTS",
                main_table.MOD_BUD_EST AS "MODIFIED_BUDGET_ESTIMATE",
                 main_table.RE_BUD_EST AS "REVISED_ESTIMATE",
                main_table.BUD_EST AS "BUDGET_ESTIMATE",
                nextYear.FY AS BUD_EST_YEAR_ENG,
                nextYear.FY_GUJ AS BUD_EST_YEAR_GUJ,
                currYear.FY AS MOD_REV_YEAR_ENG,
                currYear.FY_GUJ AS MOD_REV_YEAR_GUJ,
                prevYear.FY AS ACC_YEAR_ENG,
                prevYear.FY_GUJ AS ACC_YEAR_GUJ,
                main_table.MAJORHEAD_NAME,
                main_table.MAJORHEAD_NAME_GUJ,
                main_table.MAJORHEAD_CODE,
                 main_table.DETAILHEAD_NAME,
                main_table.DETAILHEAD_NAME_GUJ,
                main_table.DETAILHEAD_CODE,
                REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.MAJORHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS MAJORHEAD_CODE_GUJ,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.MINORHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS MINORHEAD_CODE_GUJ,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.SUBMAJORHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS SUBMAJORHEAD_CODE_GUJ,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.SUBHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS SUBHEAD_CODE_GUJ,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.DETAILHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS DETAILHEAD_CODE_GUJ
FROM
(
SELECT 
                COALESCE(NFY.SUBMAJORHEAD_CODE, CFY1.SUBMAJORHEAD_CODE, CFY2.SUBMAJORHEAD_CODE, PFY.SUBMAJORHEAD_CODE) AS SUBMAJORHEAD_CODE,
                COALESCE(NFY.SUBMAJORHEAD_NAME, CFY1.SUBMAJORHEAD_NAME, CFY2.SUBMAJORHEAD_NAME, PFY.SUBMAJORHEAD_NAME) AS SUBMAJORHEAD_NAME,
                COALESCE(NFY.SUBMAJORH_NAME_GUJ, CFY1.SUBMAJORH_NAME_GUJ, CFY2.SUBMAJORH_NAME_GUJ, PFY.SUBMAJORH_NAME_GUJ) AS SUBMAJORH_NAME_GUJ,
                COALESCE(NFY.MINORHEAD_CODE, CFY1.MINORHEAD_CODE, CFY2.MINORHEAD_CODE, PFY.MINORHEAD_CODE) AS MINORHEAD_CODE,
                COALESCE(NFY.MINORHEAD_NAME, CFY1.MINORHEAD_NAME, CFY2.MINORHEAD_NAME, PFY.MINORHEAD_NAME) AS MINORHEAD_NAME,
                COALESCE(NFY.MINORHEAD_NAME_GUJ, CFY1.MINORHEAD_NAME_GUJ, CFY2.MINORHEAD_NAME_GUJ, PFY.MINORHEAD_NAME_GUJ) AS MINORHEAD_NAME_GUJ,
                NFY.BUD_EST,
                CFY1.MOD_BUD_EST,
                CFY2.RE_BUD_EST,
                PFY.ACC_BUD_EST,
                COALESCE(NFY.MAJORHEAD_NAME, CFY1.MAJORHEAD_NAME, CFY2.MAJORHEAD_NAME, PFY.MAJORHEAD_NAME) AS MAJORHEAD_NAME,
                COALESCE(NFY.MAJORHEAD_NAME_GUJ, CFY1.MAJORHEAD_NAME_GUJ, CFY2.MAJORHEAD_NAME_GUJ, PFY.MAJORHEAD_NAME_GUJ) AS MAJORHEAD_NAME_GUJ,
                COALESCE(NFY.MAJORHEAD_CODE, CFY1.MAJORHEAD_CODE, CFY2.MAJORHEAD_CODE, PFY.MAJORHEAD_CODE) AS MAJORHEAD_CODE,
                COALESCE(NFY.SUBHEAD_NAME, CFY1.SUBHEAD_NAME, CFY2.SUBHEAD_NAME, PFY.SUBHEAD_NAME) AS SUBHEAD_NAME,
                COALESCE(NFY.SUBHEAD_NAME_GUJ, CFY1.SUBHEAD_NAME_GUJ, CFY2.SUBHEAD_NAME_GUJ, PFY.SUBHEAD_NAME_GUJ) AS SUBHEAD_NAME_GUJ,
                COALESCE(NFY.SUBHEAD_CODE, CFY1.SUBHEAD_CODE, CFY2.SUBHEAD_CODE, PFY.SUBHEAD_CODE) AS SUBHEAD_CODE,
                COALESCE(NFY.DETAILHEAD_CODE, CFY1.DETAILHEAD_CODE, CFY2.DETAILHEAD_CODE, PFY.DETAILHEAD_CODE) AS DETAILHEAD_CODE,
                COALESCE(NFY.DETAILHEAD_NAME, CFY1.DETAILHEAD_NAME, CFY2.DETAILHEAD_NAME, PFY.DETAILHEAD_NAME) AS DETAILHEAD_NAME,
                COALESCE(NFY.DETAILHEAD_NAME_GUJ, CFY1.DETAILHEAD_NAME_GUJ, CFY2.DETAILHEAD_NAME_GUJ, PFY.DETAILHEAD_NAME_GUJ) AS DETAILHEAD_NAME_GUJ
FROM
(
SELECT 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                ROUND(sum(abc.BE),2) AS BUD_EST,
                abc.MAJORHEAD_ID, 
                abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE,
                abc.SUBHEAD_CODE,
                abc.SUBHEAD_NAME ,
                abc.SUBHEAD_NAME_GUJ,
                abc.SUBHEAD_ID,
                abc.DETAILHEAD_ID,
                abc.DETAILHEAD_CODE,
                abc.DETAILHEAD_NAME,
                abc.DETAILHEAD_NAME_GUJ
FROM
(
SELECT 
                mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                mm.MINORHEAD_CODE,
                tprd.RECEIPT_AMOUNT AS BE,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                mm.MINORHEAD_NAME, 
                mm.MINORHEAD_NAME_GUJ, 
                ms.SUBMAJORHEAD_ID ,
                mm.MINORHEAD_ID ,
                tph.MAJORHEAD_ID, 
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ,
                msub.SUBHEAD_ID,
                msub.SUBHEAD_CODE,
                msub.SUBHEAD_NAME,
                msub.SUBHEAD_NAME_GUJ,
                mdet.DETAILHEAD_ID,
                mdet.DETAILHEAD_CODE,
                mdet.DETAILHEAD_NAME,
                mdet.DETAILHEAD_NAME_GUJ
                
              
FROM 
                BUDGET.TBUD_PUB_RE_HDR tph, 
                BUDGET.TBUD_PUB_RE_DTL tprd,
                MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_MINORHEAD mm, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                MASTER_V1.MS_MAJORHEAD mm2,
                MASTER_V1.MS_SUBHEAD msub,
                MASTER_V1.MS_DETAILHEAD mdet
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND md.DEMAND_ID = mm.DEMAND_ID 
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID 
                AND tph.TBUD_PUB_RE_HDR_ID =tprd.TBUD_PUB_RE_HDR_ID 
                AND mm.MINORHEAD_ID =tprd.MINORHEAD_ID 
                AND ms.SUBMAJORHEAD_ID =tprd.SUBMAJORHEAD_ID 
                AND msub.SUBHEAD_ID=tprd.SUBHEAD_ID
                AND mdet.SUBHEAD_ID =msub.SUBHEAD_ID 
                AND mdet.DETAILHEAD_ID=tprd.DETAILHEAD_ID
                AND mdet.MINORHEAD_ID =mm.MINORHEAD_ID 
                AND mdet.SUBMAJORHEAD_ID =ms.SUBMAJORHEAD_ID 
                
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND mm2.MAJORHEAD_TYPE_ID =3
                AND tph.FINANCIAL_YEAR_ID = $P{fyId} 
                AND tph.BPN_ID= $P{bpnId} 
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE, mm.MINORHEAD_CODE,msub.SUBHEAD_CODE,mdet.DETAILHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                abc.MAJORHEAD_ID, 
              abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE,
                 abc.SUBHEAD_CODE,
                abc.SUBHEAD_NAME ,
                abc.SUBHEAD_NAME_GUJ,
                abc.SUBHEAD_ID,
                 abc.DETAILHEAD_ID,
                abc.DETAILHEAD_CODE,
                abc.DETAILHEAD_NAME,
                abc.DETAILHEAD_NAME_GUJ
                

                ) NFY
FULL OUTER JOIN 
(
SELECT
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                ROUND(sum(abc.MBE),2) AS MOD_BUD_EST,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE,
                 abc.SUBHEAD_CODE,
                abc.SUBHEAD_NAME ,
                abc.SUBHEAD_NAME_GUJ,
                abc.SUBHEAD_ID,
                abc.DETAILHEAD_ID,
                abc.DETAILHEAD_CODE,
                abc.DETAILHEAD_NAME,
                abc.DETAILHEAD_NAME_GUJ
FROM
(
SELECT 
                mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                mm.MINORHEAD_CODE, 
                tprd.RECEIPT_AMOUNT AS MBE,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                mm.MINORHEAD_NAME, 
                mm.MINORHEAD_NAME_GUJ, 
                tph.MAJORHEAD_ID, 
                 ms.SUBMAJORHEAD_ID ,
                mm.MINORHEAD_ID ,
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ,
                msub.SUBHEAD_ID,
                msub.SUBHEAD_CODE,
                msub.SUBHEAD_NAME,
                msub.SUBHEAD_NAME_GUJ,
                 mdet.DETAILHEAD_ID,
                mdet.DETAILHEAD_CODE,
                mdet.DETAILHEAD_NAME,
                mdet.DETAILHEAD_NAME_GUJ
                
FROM 
                BUDGET.TBUD_PUB_RE_HDR tph, 
                BUDGET.TBUD_PUB_RE_DTL tprd,
                MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_MINORHEAD mm, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                master_v1.MS_MAJORHEAD mm2,
                MASTER_V1.MS_SUBHEAD msub,
                 MASTER_V1.MS_DETAILHEAD mdet
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND md.DEMAND_ID = mm.DEMAND_ID 
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID
                AND tph.TBUD_PUB_RE_HDR_ID =tprd.TBUD_PUB_RE_HDR_ID 
                AND mm.MINORHEAD_ID =tprd.MINORHEAD_ID 
                AND ms.SUBMAJORHEAD_ID =tprd.SUBMAJORHEAD_ID 
                AND ms.MAJORHEAD_ID =mm2.majorhead_id
                AND msub.SUBHEAD_ID=tprd.SUBHEAD_ID
                 AND mdet.DETAILHEAD_ID=tprd.DETAILHEAD_ID
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND tph.FINANCIAL_YEAR_ID = $P{fyId}-1 
                AND tph.BPN_ID= $P{bpnId} 
                AND tph.APP_TYPE_ID =472
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE, mm.MINORHEAD_CODE,msub.SUBHEAD_CODE,mdet.DETAILHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE,
                 abc.SUBHEAD_CODE,
                abc.SUBHEAD_NAME ,
                abc.SUBHEAD_NAME_GUJ,
                abc.SUBHEAD_ID,
                 abc.DETAILHEAD_ID,
                abc.DETAILHEAD_CODE,
                abc.DETAILHEAD_NAME,
                abc.DETAILHEAD_NAME_GUJ
) CFY1 ON CFY1.MAJORHEAD_ID=NFY.MAJORHEAD_ID AND CFY1.SUBMAJORHEAD_ID=NFY.SUBMAJORHEAD_ID AND CFY1.MINORHEAD_ID=NFY.MINORHEAD_ID AND CFY1.SUBHEAD_ID=NFY.SUBHEAD_ID AND CFY1.DETAILHEAD_ID=NFY.DETAILHEAD_ID
                                  
FULL OUTER JOIN 
(
SELECT
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                ROUND(sum(abc.RE),2) AS RE_BUD_EST,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE,
                 abc.SUBHEAD_CODE,
                abc.SUBHEAD_NAME ,
                abc.SUBHEAD_NAME_GUJ,
                abc.SUBHEAD_ID,
                abc.DETAILHEAD_ID,
                abc.DETAILHEAD_CODE,
                abc.DETAILHEAD_NAME,
                abc.DETAILHEAD_NAME_GUJ
FROM
(
SELECT 
                mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                mm.MINORHEAD_CODE, 
                tprd.RECEIPT_AMOUNT AS RE,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                mm.MINORHEAD_NAME, 
                mm.MINORHEAD_NAME_GUJ, 
                tph.MAJORHEAD_ID, 
                 ms.SUBMAJORHEAD_ID ,
                mm.MINORHEAD_ID ,
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ,
                msub.SUBHEAD_ID,
                msub.SUBHEAD_CODE,
                msub.SUBHEAD_NAME,
                msub.SUBHEAD_NAME_GUJ,
                 mdet.DETAILHEAD_ID,
                mdet.DETAILHEAD_CODE,
                mdet.DETAILHEAD_NAME,
                mdet.DETAILHEAD_NAME_GUJ
                
FROM 
 MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_MINORHEAD mm, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                MASTER_V1.MS_MAJORHEAD mm2, 
                MASTER_V1.MS_SUBHEAD msub,
                 MASTER_V1.MS_DETAILHEAD mdet,
                BUDGET.TBUD_PUB_RE_HDR tph LEFT JOIN  
                BUDGET.TBUD_PUB_RE_DTL tprd ON tph.TBUD_PUB_RE_HDR_ID =tprd.TBUD_PUB_RE_HDR_ID 
               
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND md.DEMAND_ID = mm.DEMAND_ID 
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID
                AND mm.MINORHEAD_ID =tprd.MINORHEAD_ID 
                AND ms.SUBMAJORHEAD_ID =tprd.SUBMAJORHEAD_ID 
                 AND mdet.DETAILHEAD_ID=tprd.DETAILHEAD_ID
                AND msub.SUBHEAD_ID=tprd.SUBHEAD_ID
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND tph.FINANCIAL_YEAR_ID = $P{fyId}-1 
                AND tph.BPN_ID= $P{bpnId} 
                AND tph.APP_TYPE_ID =473
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE, mm.MINORHEAD_CODE,msub.SUBHEAD_CODE,mdet.DETAILHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE,
                 abc.SUBHEAD_CODE,
                abc.SUBHEAD_NAME ,
                abc.SUBHEAD_NAME_GUJ,
                abc.SUBHEAD_ID,
                 abc.DETAILHEAD_ID,
                abc.DETAILHEAD_CODE,
                abc.DETAILHEAD_NAME,
                abc.DETAILHEAD_NAME_GUJ
) CFY2 ON CFY2.MAJORHEAD_ID=NFY.MAJORHEAD_ID AND CFY2.SUBMAJORHEAD_ID=NFY.SUBMAJORHEAD_ID AND CFY2.MINORHEAD_ID=NFY.MINORHEAD_ID AND CFY2.SUBHEAD_ID=NFY.SUBHEAD_ID AND CFY2.DETAILHEAD_ID=NFY.DETAILHEAD_ID
                                  
FULL OUTER JOIN 
(
 SELECT 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                ROUND(sum(abc.ACC),2) AS ACC_BUD_EST,
                abc.DEMAND_ID, 
                abc.MAJORHEAD_ID, 
                abc.SUBMAJORHEAD_ID, 
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE,
                 abc.SUBHEAD_CODE,
                abc.SUBHEAD_NAME ,
                abc.SUBHEAD_NAME_GUJ,
                abc.SUBHEAD_ID,
                abc.DETAILHEAD_ID,
                abc.DETAILHEAD_CODE,
                abc.DETAILHEAD_NAME,
                abc.DETAILHEAD_NAME_GUJ
FROM
(
SELECT 
                  mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                  mm.MINORHEAD_CODE, 
                  tph.RECEIPT_AMOUNT AS ACC,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                mm.MINORHEAD_NAME, 
                mm.MINORHEAD_NAME_GUJ, 
                tph.DEMAND_ID, 
                tph.MAJORHEAD_ID, 
                tph.SUBMAJORHEAD_ID, 
                tph.MINORHEAD_ID,
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ,
                msub.SUBHEAD_ID,
                msub.SUBHEAD_CODE,
                msub.SUBHEAD_NAME,
                msub.SUBHEAD_NAME_GUJ,
                 mdet.DETAILHEAD_ID,
                mdet.DETAILHEAD_CODE,
                mdet.DETAILHEAD_NAME,
                mdet.DETAILHEAD_NAME_GUJ
              
FROM 
                BUDGET.TBUD_PUB_RE_AC tph, 
                MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_MINORHEAD mm, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                MASTER_V1.MS_SUBHEAD msub,
                master_v1.MS_MAJORHEAD mm2,
                 MASTER_V1.MS_DETAILHEAD mdet
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND md.DEMAND_ID = mm.DEMAND_ID 
                AND tph.SUBMAJORHEAD_ID = ms.SUBMAJORHEAD_ID 
                AND tph.MINORHEAD_ID = mm.MINORHEAD_ID
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID
                AND  tph.DETAILHEAD_ID =mdet.DETAILHEAD_ID 
                AND msub.SUBHEAD_ID=tph.SUBHEAD_ID
                AND tph.APP_TYPE_ID IN (472,473)
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND tph.FINANCIAL_YEAR_ID = $P{fyId}-2 
                AND tph.BPN_ID= $P{bpnId} 
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE, mm.MINORHEAD_CODE,msub.SUBHEAD_CODE,mdet.DETAILHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                abc.DEMAND_ID, 
                abc.MAJORHEAD_ID, 
                abc.SUBMAJORHEAD_ID, 
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE,
                 abc.SUBHEAD_CODE,
                abc.SUBHEAD_NAME ,
                abc.SUBHEAD_NAME_GUJ,
                abc.SUBHEAD_ID,
                 abc.DETAILHEAD_ID,
                abc.DETAILHEAD_CODE,
                abc.DETAILHEAD_NAME,
                abc.DETAILHEAD_NAME_GUJ
) PFY ON  PFY.MAJORHEAD_ID=NFY.MAJORHEAD_ID AND PFY.SUBMAJORHEAD_ID=NFY.SUBMAJORHEAD_ID AND PFY.MINORHEAD_ID=NFY.MINORHEAD_ID AND PFY.SUBHEAD_ID=NFY.SUBHEAD_ID AND PFY.DETAILHEAD_ID=NFY.DETAILHEAD_ID
                                
ORDER BY SUBMAJORHEAD_CODE, MINORHEAD_CODE,SUBHEAD_CODE,DETAILHEAD_CODE
) main_table
JOIN (SELECT mfy.FY, mfy.FY_GUJ, mfy.FINANCIAL_YEAR_ID FROM MASTER_V1.MS_FINANCIAL_YEAR mfy WHERE mfy.FINANCIAL_YEAR_ID = $P{fyId}) nextYear ON nextYear.FINANCIAL_YEAR_ID=$P{fyId}
JOIN (SELECT mfy.FY, mfy.FY_GUJ, mfy.FINANCIAL_YEAR_ID FROM MASTER_V1.MS_FINANCIAL_YEAR mfy WHERE mfy.FINANCIAL_YEAR_ID = $P{fyId}-1) currYear ON currYear.FINANCIAL_YEAR_ID=$P{fyId}-1
JOIN (SELECT mfy.FY, mfy.FY_GUJ, mfy.FINANCIAL_YEAR_ID FROM MASTER_V1.MS_FINANCIAL_YEAR mfy WHERE mfy.FINANCIAL_YEAR_ID = $P{fyId}-2) prevYear ON prevYear.FINANCIAL_YEAR_ID=$P{fyId}-2
WHERE main_table.MAJORHEAD_CODE=$P{majorHead} ORDER BY main_table.majorhead_code]]>
		</queryString>
		<field name="SUB_MAJOR_HEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_MAJOR_HEAD_CODE"/>
		</field>
		<field name="SUB_MAJOR_HEAD_NAME_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_MAJOR_HEAD_NAME_ENG"/>
		</field>
		<field name="SUB_MAJOR_HEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_MAJOR_HEAD_NAME_GUJ"/>
		</field>
		<field name="MINOR_HEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MINOR_HEAD_CODE"/>
		</field>
		<field name="MINOR_HEAD_NAME_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MINOR_HEAD_NAME_ENG"/>
		</field>
		<field name="MINOR_HEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MINOR_HEAD_NAME_GUJ"/>
		</field>
		<field name="SUB_HEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_HEAD_CODE"/>
		</field>
		<field name="SUB_HEAD_NAME_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_HEAD_NAME_ENG"/>
		</field>
		<field name="SUB_HEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_HEAD_NAME_GUJ"/>
		</field>
		<field name="ACCOUNTS" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.label" value="ACCOUNTS"/>
		</field>
		<field name="MODIFIED_BUDGET_ESTIMATE" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.label" value="MODIFIED_BUDGET_ESTIMATE"/>
		</field>
		<field name="REVISED_ESTIMATE" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.label" value="REVISED_ESTIMATE"/>
		</field>
		<field name="BUDGET_ESTIMATE" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.label" value="BUDGET_ESTIMATE"/>
		</field>
		<field name="BUD_EST_YEAR_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="BUD_EST_YEAR_ENG"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="BUD_EST_YEAR_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="BUD_EST_YEAR_GUJ"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="MOD_REV_YEAR_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MOD_REV_YEAR_ENG"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="MOD_REV_YEAR_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MOD_REV_YEAR_GUJ"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="ACC_YEAR_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="ACC_YEAR_ENG"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="ACC_YEAR_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="ACC_YEAR_GUJ"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="MAJORHEAD_NAME" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_NAME"/>
		</field>
		<field name="MAJORHEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_NAME_GUJ"/>
		</field>
		<field name="MAJORHEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_CODE"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_MAJORHEAD"/>
		</field>
		<field name="DETAILHEAD_NAME" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="DETAILHEAD_NAME"/>
		</field>
		<field name="DETAILHEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="DETAILHEAD_NAME_GUJ"/>
		</field>
		<field name="DETAILHEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="DETAILHEAD_CODE"/>
		</field>
		<field name="MAJORHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_CODE_GUJ"/>
		</field>
		<field name="MINORHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MINORHEAD_CODE_GUJ"/>
		</field>
		<field name="SUBMAJORHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUBMAJORHEAD_CODE_GUJ"/>
		</field>
		<field name="SUBHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUBHEAD_CODE_GUJ"/>
		</field>
		<field name="DETAILHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="DETAILHEAD_CODE_GUJ"/>
		</field>
		<variable name="Net Total" class="java.lang.Double" resetType="Group" resetGroup="MinorHeadGroup" calculation="Sum">
			<variableExpression><![CDATA[$F{BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="AccTotal" class="java.lang.Double" resetType="Group" resetGroup="MinorHeadGroup" calculation="Sum">
			<variableExpression><![CDATA[$F{ACCOUNTS}]]></variableExpression>
		</variable>
		<variable name="BudTotal" class="java.lang.Double" resetType="Group" resetGroup="MinorHeadGroup" calculation="Sum">
			<variableExpression><![CDATA[$F{MODIFIED_BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="ModBudTotal" class="java.lang.Double" resetType="Group" resetGroup="MinorHeadGroup" calculation="Sum">
			<variableExpression><![CDATA[$F{REVISED_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="SMHAccTotal" class="java.lang.Double" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{ACCOUNTS}]]></variableExpression>
		</variable>
		<variable name="SMHBudTotal" class="java.lang.Double" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{MODIFIED_BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="SMHModBudTotal" class="java.lang.Double" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{REVISED_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="SMHTotal" class="java.lang.Double" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<group name="Group1">
			<groupExpression><![CDATA[$F{SUB_MAJOR_HEAD_CODE}]]></groupExpression>
		</group>
		<group name="MinorHeadGroup">
			<groupExpression><![CDATA[$F{MINOR_HEAD_CODE}]]></groupExpression>
		</group>
		<group name="Group2">
			<groupExpression><![CDATA[$F{SUB_HEAD_CODE}]]></groupExpression>
		</group>
		<group name="Group3">
			<groupExpression><![CDATA[$F{DETAILHEAD_CODE}]]></groupExpression>
		</group>
	</subDataset>
	<subDataset name="Dataset5" uuid="60105673-bedd-4a7f-a5d2-79ba0182bd30">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="New Data Adapter "/>
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w1" value="391"/>
		<property name="com.jaspersoft.studio.data.sql.SQLQueryDesigner.sash.w2" value="602"/>
		<parameter name="fyId" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{fyId}]]></defaultValueExpression>
		</parameter>
		<parameter name="bpnId" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{bpnId}]]></defaultValueExpression>
		</parameter>
		<parameter name="majorHead" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{majorHead}]]></defaultValueExpression>
		</parameter>
		<queryString language="SQL">
			<![CDATA[SELECT  
                main_table.SUBMAJORHEAD_CODE AS "SUB_MAJOR_HEAD_CODE",
                main_table.SUBMAJORHEAD_NAME AS "SUB_MAJOR_HEAD_NAME_ENG",
                main_table.SUBMAJORH_NAME_GUJ AS "SUB_MAJOR_HEAD_NAME_GUJ",
                main_table.MINORHEAD_CODE AS "MINOR_HEAD_CODE",
                main_table.MINORHEAD_NAME AS "MINOR_HEAD_NAME_ENG",
                main_table.MINORHEAD_NAME_GUJ AS "MINOR_HEAD_NAME_GUJ",
                main_table.ACC_BUD_EST AS "ACCOUNTS",
                main_table.MOD_BUD_EST AS "MODIFIED_BUDGET_ESTIMATE",
                 main_table.RE_BUD_EST AS "REVISED_ESTIMATE",
                main_table.BUD_EST AS "BUDGET_ESTIMATE",
                nextYear.FY AS BUD_EST_YEAR_ENG,
                nextYear.FY_GUJ AS BUD_EST_YEAR_GUJ,
                currYear.FY AS MOD_REV_YEAR_ENG,
                currYear.FY_GUJ AS MOD_REV_YEAR_GUJ,
                prevYear.FY AS ACC_YEAR_ENG,
                prevYear.FY_GUJ AS ACC_YEAR_GUJ,
                main_table.MAJORHEAD_NAME,
                main_table.MAJORHEAD_NAME_GUJ,
                main_table.MAJORHEAD_CODE,
                REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.MAJORHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS MAJORHEAD_CODE_GUJ,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.MINORHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS MINORHEAD_CODE_GUJ,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.SUBMAJORHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS SUBMAJORHEAD_CODE_GUJ
FROM
(
SELECT 
                COALESCE(NFY.SUBMAJORHEAD_CODE, CFY1.SUBMAJORHEAD_CODE, CFY2.SUBMAJORHEAD_CODE, PFY.SUBMAJORHEAD_CODE) AS SUBMAJORHEAD_CODE,
                COALESCE(NFY.SUBMAJORHEAD_NAME, CFY1.SUBMAJORHEAD_NAME, CFY2.SUBMAJORHEAD_NAME, PFY.SUBMAJORHEAD_NAME) AS SUBMAJORHEAD_NAME,
                COALESCE(NFY.SUBMAJORH_NAME_GUJ, CFY1.SUBMAJORH_NAME_GUJ, CFY2.SUBMAJORH_NAME_GUJ, PFY.SUBMAJORH_NAME_GUJ) AS SUBMAJORH_NAME_GUJ,
                COALESCE(NFY.MINORHEAD_CODE, CFY1.MINORHEAD_CODE, CFY2.MINORHEAD_CODE, PFY.MINORHEAD_CODE) AS MINORHEAD_CODE,
                COALESCE(NFY.MINORHEAD_NAME, CFY1.MINORHEAD_NAME, CFY2.MINORHEAD_NAME, PFY.MINORHEAD_NAME) AS MINORHEAD_NAME,
                COALESCE(NFY.MINORHEAD_NAME_GUJ, CFY1.MINORHEAD_NAME_GUJ, CFY2.MINORHEAD_NAME_GUJ, PFY.MINORHEAD_NAME_GUJ) AS MINORHEAD_NAME_GUJ,
                NFY.BUD_EST,
                CFY1.MOD_BUD_EST,
                CFY2.RE_BUD_EST,
                PFY.ACC_BUD_EST,
                COALESCE(NFY.MAJORHEAD_NAME, CFY1.MAJORHEAD_NAME, CFY2.MAJORHEAD_NAME, PFY.MAJORHEAD_NAME) AS MAJORHEAD_NAME,
                COALESCE(NFY.MAJORHEAD_NAME_GUJ, CFY1.MAJORHEAD_NAME_GUJ, CFY2.MAJORHEAD_NAME_GUJ, PFY.MAJORHEAD_NAME_GUJ) AS MAJORHEAD_NAME_GUJ,
                COALESCE(NFY.MAJORHEAD_CODE, CFY1.MAJORHEAD_CODE, CFY2.MAJORHEAD_CODE, PFY.MAJORHEAD_CODE) AS MAJORHEAD_CODE
FROM
(
SELECT 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                ROUND(sum(abc.BE),2) AS BUD_EST,
                abc.MAJORHEAD_ID, 
                abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
FROM
(
SELECT 
                mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                mm.MINORHEAD_CODE,
                tprd.RECEIPT_AMOUNT AS BE,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                mm.MINORHEAD_NAME, 
                mm.MINORHEAD_NAME_GUJ, 
                ms.SUBMAJORHEAD_ID ,
                mm.MINORHEAD_ID ,
                tph.MAJORHEAD_ID, 
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ
              
FROM 
                BUDGET.TBUD_PUB_RE_HDR tph, 
                BUDGET.TBUD_PUB_RE_DTL tprd,
                MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_MINORHEAD mm, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                MASTER_V1.MS_MAJORHEAD mm2 
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND md.DEMAND_ID = mm.DEMAND_ID 
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID 
                AND tph.TBUD_PUB_RE_HDR_ID =tprd.TBUD_PUB_RE_HDR_ID 
                AND mm.MINORHEAD_ID =tprd.MINORHEAD_ID 
                AND ms.SUBMAJORHEAD_ID =tprd.SUBMAJORHEAD_ID 
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND mm2.MAJORHEAD_TYPE_ID =3
                AND tph.FINANCIAL_YEAR_ID = $P{fyId} 
                AND tph.BPN_ID= $P{bpnId} 
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE, mm.MINORHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                abc.MAJORHEAD_ID, 
              abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE

                ) NFY
FULL OUTER JOIN 
(
SELECT
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                ROUND(sum(abc.MBE),2) AS MOD_BUD_EST,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
FROM
(
SELECT 
                mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                mm.MINORHEAD_CODE, 
                tprd.RECEIPT_AMOUNT AS MBE,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                mm.MINORHEAD_NAME, 
                mm.MINORHEAD_NAME_GUJ, 
                tph.MAJORHEAD_ID, 
                 ms.SUBMAJORHEAD_ID ,
                mm.MINORHEAD_ID ,
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ
                
FROM 
                BUDGET.TBUD_PUB_RE_HDR tph, 
                BUDGET.TBUD_PUB_RE_DTL tprd,
                MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_MINORHEAD mm, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                master_v1.MS_MAJORHEAD mm2 
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND md.DEMAND_ID = mm.DEMAND_ID 
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID
                AND tph.TBUD_PUB_RE_HDR_ID =tprd.TBUD_PUB_RE_HDR_ID 
                AND mm.MINORHEAD_ID =tprd.MINORHEAD_ID 
                AND ms.SUBMAJORHEAD_ID =tprd.SUBMAJORHEAD_ID 
                AND ms.MAJORHEAD_ID =mm2.majorhead_id
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND tph.FINANCIAL_YEAR_ID = $P{fyId}-1 
                AND tph.BPN_ID= $P{bpnId} 
                AND tph.APP_TYPE_ID =472
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE, mm.MINORHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
) CFY1 ON CFY1.MAJORHEAD_ID=NFY.MAJORHEAD_ID AND CFY1.SUBMAJORHEAD_ID=NFY.SUBMAJORHEAD_ID AND CFY1.MINORHEAD_ID=NFY.MINORHEAD_ID
                                  
FULL OUTER JOIN 
(
SELECT
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                ROUND(sum(abc.RE),2) AS RE_BUD_EST,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
FROM
(
SELECT 
                mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                mm.MINORHEAD_CODE, 
                tprd.RECEIPT_AMOUNT AS RE,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                mm.MINORHEAD_NAME, 
                mm.MINORHEAD_NAME_GUJ, 
                tph.MAJORHEAD_ID, 
                 ms.SUBMAJORHEAD_ID ,
                mm.MINORHEAD_ID ,
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ
                
FROM 
 MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_MINORHEAD mm, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                MASTER_V1.MS_MAJORHEAD mm2, 
                BUDGET.TBUD_PUB_RE_HDR tph LEFT JOIN  
                BUDGET.TBUD_PUB_RE_DTL tprd ON tph.TBUD_PUB_RE_HDR_ID =tprd.TBUD_PUB_RE_HDR_ID 
               
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND md.DEMAND_ID = mm.DEMAND_ID 
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID
                AND mm.MINORHEAD_ID =tprd.MINORHEAD_ID 
                AND ms.SUBMAJORHEAD_ID =tprd.SUBMAJORHEAD_ID 
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND tph.FINANCIAL_YEAR_ID = $P{fyId}-1 
                AND tph.BPN_ID= $P{bpnId} 
                AND tph.APP_TYPE_ID =473
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE, mm.MINORHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
) CFY2 ON CFY2.MAJORHEAD_ID=NFY.MAJORHEAD_ID AND CFY2.SUBMAJORHEAD_ID=NFY.SUBMAJORHEAD_ID AND CFY2.MINORHEAD_ID=NFY.MINORHEAD_ID
                                  
FULL OUTER JOIN 
(
 SELECT 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                ROUND(sum(abc.ACC),2) AS ACC_BUD_EST,
                abc.DEMAND_ID, 
                abc.MAJORHEAD_ID, 
                abc.SUBMAJORHEAD_ID, 
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
FROM
(
SELECT 
                  mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                  mm.MINORHEAD_CODE, 
                  tph.RECEIPT_AMOUNT AS ACC,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                mm.MINORHEAD_NAME, 
                mm.MINORHEAD_NAME_GUJ, 
                tph.DEMAND_ID, 
                tph.MAJORHEAD_ID, 
                tph.SUBMAJORHEAD_ID, 
                tph.MINORHEAD_ID,
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ
              
FROM 
                BUDGET.TBUD_PUB_RE_AC tph, 
                MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_MINORHEAD mm, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                master_v1.MS_MAJORHEAD mm2
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND md.DEMAND_ID = mm.DEMAND_ID 
                AND tph.SUBMAJORHEAD_ID = ms.SUBMAJORHEAD_ID 
                AND tph.MINORHEAD_ID = mm.MINORHEAD_ID
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID
                AND tph.APP_TYPE_ID IN (472,473)
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND tph.FINANCIAL_YEAR_ID = $P{fyId}-2 
                AND tph.BPN_ID= $P{bpnId} 
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE, mm.MINORHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MINORHEAD_CODE, 
                abc.MINORHEAD_NAME, 
                abc.MINORHEAD_NAME_GUJ,
                abc.DEMAND_ID, 
                abc.MAJORHEAD_ID, 
                abc.SUBMAJORHEAD_ID, 
                abc.MINORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
) PFY ON  PFY.MAJORHEAD_ID=NFY.MAJORHEAD_ID AND PFY.SUBMAJORHEAD_ID=NFY.SUBMAJORHEAD_ID AND PFY.MINORHEAD_ID=NFY.MINORHEAD_ID
                                
ORDER BY SUBMAJORHEAD_CODE, MINORHEAD_CODE
) main_table
JOIN (SELECT mfy.FY, mfy.FY_GUJ, mfy.FINANCIAL_YEAR_ID FROM MASTER_V1.MS_FINANCIAL_YEAR mfy WHERE mfy.FINANCIAL_YEAR_ID = $P{fyId}) nextYear ON nextYear.FINANCIAL_YEAR_ID=$P{fyId}
JOIN (SELECT mfy.FY, mfy.FY_GUJ, mfy.FINANCIAL_YEAR_ID FROM MASTER_V1.MS_FINANCIAL_YEAR mfy WHERE mfy.FINANCIAL_YEAR_ID = $P{fyId}-1) currYear ON currYear.FINANCIAL_YEAR_ID=$P{fyId}-1
JOIN (SELECT mfy.FY, mfy.FY_GUJ, mfy.FINANCIAL_YEAR_ID FROM MASTER_V1.MS_FINANCIAL_YEAR mfy WHERE mfy.FINANCIAL_YEAR_ID = $P{fyId}-2) prevYear ON prevYear.FINANCIAL_YEAR_ID=$P{fyId}-2
WHERE main_table.MAJORHEAD_CODE=$P{majorHead} ORDER BY main_table.majorhead_code]]>
		</queryString>
		<field name="SUB_MAJOR_HEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="SUB_MAJOR_HEAD_CODE"/>
			<property name="com.jaspersoft.studio.field.label" value="SUB_MAJOR_HEAD_CODE"/>
		</field>
		<field name="SUB_MAJOR_HEAD_NAME_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="SUB_MAJOR_HEAD_NAME_ENG"/>
			<property name="com.jaspersoft.studio.field.label" value="SUB_MAJOR_HEAD_NAME_ENG"/>
		</field>
		<field name="SUB_MAJOR_HEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="SUB_MAJOR_HEAD_NAME_GUJ"/>
			<property name="com.jaspersoft.studio.field.label" value="SUB_MAJOR_HEAD_NAME_GUJ"/>
		</field>
		<field name="MINOR_HEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="MINOR_HEAD_CODE"/>
			<property name="com.jaspersoft.studio.field.label" value="MINOR_HEAD_CODE"/>
		</field>
		<field name="MINOR_HEAD_NAME_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="MINOR_HEAD_NAME_ENG"/>
			<property name="com.jaspersoft.studio.field.label" value="MINOR_HEAD_NAME_ENG"/>
		</field>
		<field name="MINOR_HEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="MINOR_HEAD_NAME_GUJ"/>
			<property name="com.jaspersoft.studio.field.label" value="MINOR_HEAD_NAME_GUJ"/>
		</field>
		<field name="ACCOUNTS" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.name" value="ACCOUNTS"/>
			<property name="com.jaspersoft.studio.field.label" value="ACCOUNTS"/>
		</field>
		<field name="MODIFIED_BUDGET_ESTIMATE" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.name" value="MODIFIED_BUDGET_ESTIMATE"/>
			<property name="com.jaspersoft.studio.field.label" value="MODIFIED_BUDGET_ESTIMATE"/>
		</field>
		<field name="REVISED_ESTIMATE" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.name" value="REVISED_ESTIMATE"/>
			<property name="com.jaspersoft.studio.field.label" value="REVISED_ESTIMATE"/>
		</field>
		<field name="BUDGET_ESTIMATE" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.name" value="BUDGET_ESTIMATE"/>
			<property name="com.jaspersoft.studio.field.label" value="BUDGET_ESTIMATE"/>
		</field>
		<field name="BUD_EST_YEAR_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="FY"/>
			<property name="com.jaspersoft.studio.field.label" value="BUD_EST_YEAR_ENG"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="BUD_EST_YEAR_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="FY_GUJ"/>
			<property name="com.jaspersoft.studio.field.label" value="BUD_EST_YEAR_GUJ"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="MOD_REV_YEAR_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="FY"/>
			<property name="com.jaspersoft.studio.field.label" value="MOD_REV_YEAR_ENG"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="MOD_REV_YEAR_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="FY_GUJ"/>
			<property name="com.jaspersoft.studio.field.label" value="MOD_REV_YEAR_GUJ"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="ACC_YEAR_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="FY"/>
			<property name="com.jaspersoft.studio.field.label" value="ACC_YEAR_ENG"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="ACC_YEAR_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="FY_GUJ"/>
			<property name="com.jaspersoft.studio.field.label" value="ACC_YEAR_GUJ"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="MAJORHEAD_NAME" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="MAJORHEAD_NAME"/>
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_NAME"/>
		</field>
		<field name="MAJORHEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="MAJORHEAD_NAME_GUJ"/>
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_NAME_GUJ"/>
		</field>
		<field name="MAJORHEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="MAJORHEAD_CODE"/>
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_CODE"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_MAJORHEAD"/>
		</field>
		<field name="MAJORHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="MAJORHEAD_CODE_GUJ"/>
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_CODE_GUJ"/>
		</field>
		<field name="MINORHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="MINORHEAD_CODE_GUJ"/>
			<property name="com.jaspersoft.studio.field.label" value="MINORHEAD_CODE_GUJ"/>
		</field>
		<field name="SUBMAJORHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.name" value="SUBMAJORHEAD_CODE_GUJ"/>
			<property name="com.jaspersoft.studio.field.label" value="SUBMAJORHEAD_CODE_GUJ"/>
		</field>
		<variable name="AccTotal" class="java.lang.Double" resetType="Group" resetGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$F{ACCOUNTS}]]></variableExpression>
		</variable>
		<variable name="BudTotal" class="java.lang.Double" resetType="Group" resetGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$F{MODIFIED_BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="ModBudTotal" class="java.lang.Double" resetType="Group" resetGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$F{REVISED_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="Net Total" class="java.lang.Double" resetType="Group" resetGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$F{BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="SMHAccTotal" class="java.lang.Double" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{ACCOUNTS}]]></variableExpression>
		</variable>
		<variable name="SMHBudTotal" class="java.lang.Double" calculation="Sum">
			<variableExpression><![CDATA[$F{MODIFIED_BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="SMHModBudTotal" class="java.lang.Double" calculation="Sum">
			<variableExpression><![CDATA[$F{REVISED_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="SMHTotal" class="java.lang.Double" calculation="Sum">
			<variableExpression><![CDATA[$F{BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="AccDiff" class="java.lang.Double" resetType="Group" resetGroup="Group3">
			<variableExpression><![CDATA[$V{AccTotal}-$F{ACCOUNTS}]]></variableExpression>
		</variable>
		<variable name="ModBudDiff" class="java.lang.Double">
			<variableExpression><![CDATA[$V{BudTotal}-$F{MODIFIED_BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="RevBudDiff" class="java.lang.Double">
			<variableExpression><![CDATA[$V{ModBudTotal}-$F{REVISED_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="BudDiff" class="java.lang.Double">
			<variableExpression><![CDATA[$V{Net Total}-$F{BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="AccDiff2" class="java.lang.Double" resetType="Group" resetGroup="Group2">
			<variableExpression><![CDATA[$V{AccTotal}-$F{ACCOUNTS}]]></variableExpression>
		</variable>
		<variable name="ModBudDiff2" class="java.lang.Double" resetType="Group" resetGroup="Group2">
			<variableExpression><![CDATA[$V{BudTotal}-$F{MODIFIED_BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="RevBudDiff2" class="java.lang.Double" resetType="Group" resetGroup="Group2">
			<variableExpression><![CDATA[$V{ModBudTotal}-$F{REVISED_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="BudDiff2" class="java.lang.Double">
			<variableExpression><![CDATA[$V{Net Total}-$F{BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="AccTotal2" class="java.lang.Double" resetType="Group" resetGroup="Group1" incrementType="Group" incrementGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$V{AccTotal}]]></variableExpression>
		</variable>
		<variable name="ModBudTotal2" class="java.lang.Double" resetType="Group" resetGroup="Group1" incrementType="Group" incrementGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$V{ModBudTotal}]]></variableExpression>
		</variable>
		<variable name="BudTotal2" class="java.lang.Double" resetType="Group" resetGroup="Group1" incrementType="Group" incrementGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$V{BudTotal}]]></variableExpression>
		</variable>
		<variable name="NetTotal2" class="java.lang.Double" resetType="Group" resetGroup="Group1" incrementType="Group" incrementGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$V{Net Total}]]></variableExpression>
		</variable>
		<variable name="AccDeduct" class="java.lang.Double" resetType="Group" resetGroup="Group1" incrementType="Group" incrementGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$F{MINOR_HEAD_CODE}.equals("900")?$F{ACCOUNTS}:0.0]]></variableExpression>
		</variable>
		<variable name="ModBudDeduct" class="java.lang.Double" resetType="Group" resetGroup="Group1" incrementType="Group" incrementGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$F{MINOR_HEAD_CODE}.equals("900")?$F{MODIFIED_BUDGET_ESTIMATE}:0.0]]></variableExpression>
		</variable>
		<variable name="RevBudDeduct" class="java.lang.Double" resetType="Group" resetGroup="Group1" incrementType="Group" incrementGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$F{MINOR_HEAD_CODE}.equals("900")?$F{REVISED_ESTIMATE}:0.0]]></variableExpression>
		</variable>
		<variable name="NetTotalDeduct" class="java.lang.Double" resetType="Group" resetGroup="Group1" incrementType="Group" incrementGroup="Group2" calculation="Sum">
			<variableExpression><![CDATA[$F{MINOR_HEAD_CODE}.equals("900")?$F{BUDGET_ESTIMATE}:0.0]]></variableExpression>
		</variable>
		<group name="Group1">
			<groupExpression><![CDATA[$F{MAJORHEAD_CODE}]]></groupExpression>
		</group>
		<group name="Group2">
			<groupExpression><![CDATA[$F{MAJORHEAD_CODE}]]></groupExpression>
		</group>
		<group name="Group3">
			<groupExpression><![CDATA[$F{SUB_MAJOR_HEAD_CODE}]]></groupExpression>
		</group>
		<group name="Group4">
			<groupExpression><![CDATA[$F{SUB_MAJOR_HEAD_CODE}]]></groupExpression>
		</group>
		<group name="Group5">
			<groupExpression><![CDATA[$F{SUB_MAJOR_HEAD_CODE}]]></groupExpression>
		</group>
	</subDataset>
	<subDataset name="Dataset3" uuid="6d8db931-f72b-4837-9b53-466ddea38888">
		<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
		<property name="com.jaspersoft.studio.data.defaultdataadapter" value="DB2 Adapter"/>
		<parameter name="fyId" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{fyId}]]></defaultValueExpression>
		</parameter>
		<parameter name="bpnId" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{bpnId}]]></defaultValueExpression>
		</parameter>
		<parameter name="majorHead" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{majorHead}]]></defaultValueExpression>
		</parameter>
		<queryString language="SQL">
			<![CDATA[SELECT  
                main_table.SUBMAJORHEAD_CODE AS "SUB_MAJOR_HEAD_CODE",
                main_table.SUBMAJORHEAD_NAME AS "SUB_MAJOR_HEAD_NAME_ENG",
                main_table.SUBMAJORH_NAME_GUJ AS "SUB_MAJOR_HEAD_NAME_GUJ",
                main_table.ACC_BUD_EST AS "ACCOUNTS",
                main_table.MOD_BUD_EST AS "MODIFIED_BUDGET_ESTIMATE",
                 main_table.RE_BUD_EST AS "REVISED_ESTIMATE",
                main_table.BUD_EST AS "BUDGET_ESTIMATE",
                nextYear.FY AS BUD_EST_YEAR_ENG,
                nextYear.FY_GUJ AS BUD_EST_YEAR_GUJ,
                currYear.FY AS MOD_REV_YEAR_ENG,
                currYear.FY_GUJ AS MOD_REV_YEAR_GUJ,
                prevYear.FY AS ACC_YEAR_ENG,
                prevYear.FY_GUJ AS ACC_YEAR_GUJ,
                main_table.MAJORHEAD_NAME,
                main_table.MAJORHEAD_NAME_GUJ,
                main_table.MAJORHEAD_CODE,
                REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.MAJORHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS MAJORHEAD_CODE_GUJ,
REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(REPLACE(main_table.SUBMAJORHEAD_CODE,'1','૧'), '2', '૨'),'3','૩'),
'4','૪'),'5','૫'),'6','૬'),'7','૭'),'8','૮'),'9','૯'),'0','૦') AS SUBMAJORHEAD_CODE_GUJ
FROM
(
SELECT 
                COALESCE(NFY.SUBMAJORHEAD_CODE, CFY1.SUBMAJORHEAD_CODE, CFY2.SUBMAJORHEAD_CODE, PFY.SUBMAJORHEAD_CODE) AS SUBMAJORHEAD_CODE,
                COALESCE(NFY.SUBMAJORHEAD_NAME, CFY1.SUBMAJORHEAD_NAME, CFY2.SUBMAJORHEAD_NAME, PFY.SUBMAJORHEAD_NAME) AS SUBMAJORHEAD_NAME,
                COALESCE(NFY.SUBMAJORH_NAME_GUJ, CFY1.SUBMAJORH_NAME_GUJ, CFY2.SUBMAJORH_NAME_GUJ, PFY.SUBMAJORH_NAME_GUJ) AS SUBMAJORH_NAME_GUJ,
                 NFY.BUD_EST,
                CFY1.MOD_BUD_EST,
                CFY2.RE_BUD_EST,
                PFY.ACC_BUD_EST,
                COALESCE(NFY.MAJORHEAD_NAME, CFY1.MAJORHEAD_NAME, CFY2.MAJORHEAD_NAME, PFY.MAJORHEAD_NAME) AS MAJORHEAD_NAME,
                COALESCE(NFY.MAJORHEAD_NAME_GUJ, CFY1.MAJORHEAD_NAME_GUJ, CFY2.MAJORHEAD_NAME_GUJ, PFY.MAJORHEAD_NAME_GUJ) AS MAJORHEAD_NAME_GUJ,
                COALESCE(NFY.MAJORHEAD_CODE, CFY1.MAJORHEAD_CODE, CFY2.MAJORHEAD_CODE, PFY.MAJORHEAD_CODE) AS MAJORHEAD_CODE
FROM
(
SELECT 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                ROUND(sum(abc.BE),2) AS BUD_EST,
                abc.MAJORHEAD_ID, 
                abc.SUBMAJORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
FROM
(
SELECT 
                mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
              
                tprd.RECEIPT_AMOUNT AS BE,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                ms.SUBMAJORHEAD_ID ,
     
                tph.MAJORHEAD_ID, 
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ
              
FROM 
                BUDGET.TBUD_PUB_RE_HDR tph, 
                BUDGET.TBUD_PUB_RE_DTL tprd,
                MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                MASTER_V1.MS_MAJORHEAD mm2 
WHERE 
                md.BPN_ID = mb.BPN_ID
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID 
                AND tph.TBUD_PUB_RE_HDR_ID =tprd.TBUD_PUB_RE_HDR_ID 
                AND ms.SUBMAJORHEAD_ID =tprd.SUBMAJORHEAD_ID 
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND mm2.MAJORHEAD_TYPE_ID =3
                AND tph.FINANCIAL_YEAR_ID = $P{fyId} 
                AND tph.BPN_ID= $P{bpnId} 
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MAJORHEAD_ID, 
              abc.SUBMAJORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE

                ) NFY
FULL OUTER JOIN 
(
SELECT
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                ROUND(sum(abc.MBE),2) AS MOD_BUD_EST,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
FROM
(
SELECT 
                mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                tprd.RECEIPT_AMOUNT AS MBE,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                tph.MAJORHEAD_ID, 
                 ms.SUBMAJORHEAD_ID ,
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ
                
FROM 
                BUDGET.TBUD_PUB_RE_HDR tph, 
                BUDGET.TBUD_PUB_RE_DTL tprd,
                MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                master_v1.MS_MAJORHEAD mm2 
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID
                AND tph.TBUD_PUB_RE_HDR_ID =tprd.TBUD_PUB_RE_HDR_ID 
                AND ms.SUBMAJORHEAD_ID =tprd.SUBMAJORHEAD_ID 
                AND ms.MAJORHEAD_ID =mm2.majorhead_id
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND tph.FINANCIAL_YEAR_ID = $P{fyId}-1 
                AND tph.BPN_ID= $P{bpnId} 
                AND tph.APP_TYPE_ID =472
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
) CFY1 ON CFY1.MAJORHEAD_ID=NFY.MAJORHEAD_ID AND CFY1.SUBMAJORHEAD_ID=NFY.SUBMAJORHEAD_ID 
                                  
FULL OUTER JOIN 
(
SELECT
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                ROUND(sum(abc.RE),2) AS RE_BUD_EST,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
FROM
(
SELECT 
                mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                tprd.RECEIPT_AMOUNT AS RE,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                tph.MAJORHEAD_ID, 
                 ms.SUBMAJORHEAD_ID ,
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ
                
FROM 
 MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                MASTER_V1.MS_MAJORHEAD mm2, 
                BUDGET.TBUD_PUB_RE_HDR tph LEFT JOIN  
                BUDGET.TBUD_PUB_RE_DTL tprd ON tph.TBUD_PUB_RE_HDR_ID =tprd.TBUD_PUB_RE_HDR_ID 
               
WHERE 
                md.BPN_ID = mb.BPN_ID
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID
                AND ms.SUBMAJORHEAD_ID =tprd.SUBMAJORHEAD_ID 
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND tph.FINANCIAL_YEAR_ID = $P{fyId}-1 
                AND tph.BPN_ID= $P{bpnId} 
                AND tph.APP_TYPE_ID =473
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.MAJORHEAD_ID, 
                 abc.SUBMAJORHEAD_ID,
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
) CFY2 ON CFY2.MAJORHEAD_ID=NFY.MAJORHEAD_ID AND CFY2.SUBMAJORHEAD_ID=NFY.SUBMAJORHEAD_ID 
                                  
FULL OUTER JOIN 
(
 SELECT 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                ROUND(sum(abc.ACC),2) AS ACC_BUD_EST,
                abc.DEMAND_ID, 
                abc.MAJORHEAD_ID, 
                abc.SUBMAJORHEAD_ID, 
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
FROM
(
SELECT 
                  mm2.MAJORHEAD_CODE,
                ms.SUBMAJORHEAD_CODE, 
                  tph.RECEIPT_AMOUNT AS ACC,
                ms.SUBMAJORHEAD_NAME,
                ms.SUBMAJORH_NAME_GUJ,
                tph.DEMAND_ID, 
                tph.MAJORHEAD_ID, 
                tph.SUBMAJORHEAD_ID, 
                mm2.MAJORHEAD_NAME,
                mm2.MAJORHEAD_NAME_GUJ
              
FROM 
                BUDGET.TBUD_PUB_RE_AC tph, 
                MASTER_V1.MS_SUBMAJORHEAD ms, 
                MASTER_V1.MS_DEMAND md,
                MASTER_V1.MS_BPN mb,
                master_v1.MS_MAJORHEAD mm2
WHERE 
                md.BPN_ID = mb.BPN_ID 
                AND tph.SUBMAJORHEAD_ID = ms.SUBMAJORHEAD_ID 
                AND tph.MAJORHEAD_ID  = mm2.MAJORHEAD_ID
                AND tph.APP_TYPE_ID IN (472,473)
                AND tph.IS_REVENUE_CAPITAL IN (5,6)
                AND tph.FINANCIAL_YEAR_ID = $P{fyId}-2 
                AND tph.BPN_ID= $P{bpnId} 
                ORDER BY mm2.MAJORHEAD_CODE,ms.SUBMAJORHEAD_CODE) abc
GROUP BY 
                abc.SUBMAJORHEAD_CODE, 
                abc.SUBMAJORHEAD_NAME,
                abc.SUBMAJORH_NAME_GUJ,
                abc.DEMAND_ID, 
                abc.MAJORHEAD_ID, 
                abc.SUBMAJORHEAD_ID, 
                abc.MAJORHEAD_NAME,
                abc.MAJORHEAD_NAME_GUJ,
                abc.MAJORHEAD_CODE
) PFY ON  PFY.MAJORHEAD_ID=NFY.MAJORHEAD_ID AND PFY.SUBMAJORHEAD_ID=NFY.SUBMAJORHEAD_ID 
                                
ORDER BY SUBMAJORHEAD_CODE
) main_table
JOIN (SELECT mfy.FY, mfy.FY_GUJ, mfy.FINANCIAL_YEAR_ID FROM MASTER_V1.MS_FINANCIAL_YEAR mfy WHERE mfy.FINANCIAL_YEAR_ID = $P{fyId}) nextYear ON nextYear.FINANCIAL_YEAR_ID=$P{fyId}
JOIN (SELECT mfy.FY, mfy.FY_GUJ, mfy.FINANCIAL_YEAR_ID FROM MASTER_V1.MS_FINANCIAL_YEAR mfy WHERE mfy.FINANCIAL_YEAR_ID = $P{fyId}-1) currYear ON currYear.FINANCIAL_YEAR_ID=$P{fyId}-1
JOIN (SELECT mfy.FY, mfy.FY_GUJ, mfy.FINANCIAL_YEAR_ID FROM MASTER_V1.MS_FINANCIAL_YEAR mfy WHERE mfy.FINANCIAL_YEAR_ID = $P{fyId}-2) prevYear ON prevYear.FINANCIAL_YEAR_ID=$P{fyId}-2
WHERE main_table.MAJORHEAD_CODE=$P{majorHead} ORDER BY main_table.majorhead_code]]>
		</queryString>
		<field name="SUB_MAJOR_HEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_MAJOR_HEAD_CODE"/>
		</field>
		<field name="SUB_MAJOR_HEAD_NAME_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_MAJOR_HEAD_NAME_ENG"/>
		</field>
		<field name="SUB_MAJOR_HEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUB_MAJOR_HEAD_NAME_GUJ"/>
		</field>
		<field name="ACCOUNTS" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.label" value="ACCOUNTS"/>
		</field>
		<field name="MODIFIED_BUDGET_ESTIMATE" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.label" value="MODIFIED_BUDGET_ESTIMATE"/>
		</field>
		<field name="REVISED_ESTIMATE" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.label" value="REVISED_ESTIMATE"/>
		</field>
		<field name="BUDGET_ESTIMATE" class="java.lang.Double">
			<property name="com.jaspersoft.studio.field.label" value="BUDGET_ESTIMATE"/>
		</field>
		<field name="BUD_EST_YEAR_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="BUD_EST_YEAR_ENG"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="BUD_EST_YEAR_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="BUD_EST_YEAR_GUJ"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="MOD_REV_YEAR_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MOD_REV_YEAR_ENG"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="MOD_REV_YEAR_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MOD_REV_YEAR_GUJ"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="ACC_YEAR_ENG" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="ACC_YEAR_ENG"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="ACC_YEAR_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="ACC_YEAR_GUJ"/>
			<property name="com.jaspersoft.studio.field.tree.path" value="MS_FINANCIAL_YEAR"/>
		</field>
		<field name="MAJORHEAD_NAME" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_NAME"/>
		</field>
		<field name="MAJORHEAD_NAME_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_NAME_GUJ"/>
		</field>
		<field name="MAJORHEAD_CODE" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_CODE"/>
		</field>
		<field name="MAJORHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_CODE_GUJ"/>
		</field>
		<field name="SUBMAJORHEAD_CODE_GUJ" class="java.lang.String">
			<property name="com.jaspersoft.studio.field.label" value="SUBMAJORHEAD_CODE_GUJ"/>
		</field>
		<variable name="AccTotal" class="java.lang.Double" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{ACCOUNTS}]]></variableExpression>
		</variable>
		<variable name="BudTotal" class="java.lang.Double" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{MODIFIED_BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="ModBudTotal" class="java.lang.Double" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{REVISED_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="Net Total" class="java.lang.Double" resetType="Group" resetGroup="Group1" calculation="Sum">
			<variableExpression><![CDATA[$F{BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="AccDiff" class="java.lang.Double" resetType="Group" resetGroup="Group1">
			<variableExpression><![CDATA[$V{AccTotal}-$F{ACCOUNTS}]]></variableExpression>
		</variable>
		<variable name="ModBudDiff" class="java.lang.Double" resetType="Group" resetGroup="Group1">
			<variableExpression><![CDATA[$V{BudTotal}-$F{MODIFIED_BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="RevBudDiff" class="java.lang.Double" resetType="Group" resetGroup="Group1">
			<variableExpression><![CDATA[$V{ModBudTotal}-$F{REVISED_ESTIMATE}]]></variableExpression>
		</variable>
		<variable name="BudDiff" class="java.lang.Double" resetType="Group" resetGroup="Group1">
			<variableExpression><![CDATA[$V{Net Total}-$F{BUDGET_ESTIMATE}]]></variableExpression>
		</variable>
		<group name="Group1">
			<groupExpression><![CDATA[$F{MAJORHEAD_CODE}]]></groupExpression>
		</group>
	</subDataset>
	<parameter name="fyId" class="java.lang.String">
		<defaultValueExpression><![CDATA[$P{fyId}]]></defaultValueExpression>
	</parameter>
	<parameter name="bpnId" class="java.lang.String">
		<defaultValueExpression><![CDATA[$P{bpnId}]]></defaultValueExpression>
	</parameter>
	<parameter name="mod" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[$P{mod}]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[select MAJORHEAD_CODE from MASTER_V1.MS_MAJORHEAD where MAJORHEAD_TYPE_ID=3 and MAJORHEAD_CODE BETWEEN 0000 and 2000 ORDER BY MAJORHEAD_CODE]]>
	</queryString>
	<field name="MAJORHEAD_CODE" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.label" value="MAJORHEAD_CODE"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="MS_MAJORHEAD"/>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<detail>
		<band height="10">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<break>
				<reportElement x="0" y="0" width="100" height="1" uuid="fcb70cc5-3231-487e-a622-d335a8501a7c"/>
			</break>
		</band>
		<band height="21">
			<subreport>
				<reportElement x="-20" y="0" width="20" height="20" uuid="1355bbd8-4a68-46f4-a33f-f6b9fddebaa4"/>
				<subreportParameter name="fyId">
					<subreportParameterExpression><![CDATA[$P{fyId}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="bpnId">
					<subreportParameterExpression><![CDATA[$P{bpnId}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="major">
					<subreportParameterExpression><![CDATA[$F{MAJORHEAD_CODE}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="mod1">
					<subreportParameterExpression><![CDATA[$P{mod}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["src/reports/Receipt_Book/subRepot_RevPARTA.jasper"]]></subreportExpression>
			</subreport>
		</band>
		<band height="21">
			<subreport>
				<reportElement x="-20" y="0" width="20" height="21" uuid="6acfe81e-4829-4ce9-a93a-86b47fa7a440"/>
				<subreportParameter name="fyId">
					<subreportParameterExpression><![CDATA[$P{fyId}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="bpnId">
					<subreportParameterExpression><![CDATA[$P{bpnId}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="major">
					<subreportParameterExpression><![CDATA[$F{MAJORHEAD_CODE}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA["src/reports/Receipt_Book/rev_expla.jasper"]]></subreportExpression>
			</subreport>
		</band>
	</detail>
	<columnFooter>
		<band/>
	</columnFooter>
</jasperReport>
